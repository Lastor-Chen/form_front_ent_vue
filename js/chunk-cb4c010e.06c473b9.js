(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb4c010e"],{"0dae":function(e,t,r){"use strict";var s=r("55bc"),n=r.n(s);n.a},2375:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spinner"},[r("div",{staticClass:"bouncing-loader"},[r("div"),r("div"),r("div")])])}],i=(r("0dae"),r("2877")),a={},o=Object(i["a"])(a,s,n,!1,null,"958caafc",null);t["a"]=o.exports},"3b24":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isLoading?r("Spinner"):[r("h1",{staticClass:"mt-5"},[e._v("美食達人")]),r("hr"),r("div",{staticClass:"row text-center"},e._l(e.users,(function(e){return r("UserTopCard",{key:e.id,attrs:{user:e}})})),1)]],2)},n=[],i=(r("d3b7"),r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-3"},[r("router-link",{attrs:{to:"/users/"+e.user.id}},[r("img",{attrs:{src:e._f("emptyImage")(e.user.image,"300"),width:"140px",height:"140px"}})]),r("h2",[e._v(e._s(e.user.name))]),r("span",{staticClass:"badge badge-secondary"},[e._v("追蹤人數："+e._s(e.user.FollowerCount))]),r("p",{staticClass:"mt-3"},[e.user.isFollowed?r("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.deleteFollowing(e.user.id)}}},[e._v(" 取消追蹤 ")]):r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.addFollowing(e.user.id)}}},[e._v(" 追蹤 ")])])],1)}),a=[],o=(r("4e82"),r("4cce")),c=r("2fa3"),u={props:{user:{type:Object,required:!0}},data:function(){return{isLoading:!1}},methods:{toggleFollow:function(e){this.user.isFollowed=!this.user.isFollowed,"add"===e&&(this.user.FollowerCount+=1),"delete"===e&&(this.user.FollowerCount-=1),this.$parent.users.sort((function(e,t){return t.FollowerCount-e.FollowerCount}))},addFollowing:function(e){var t,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,!this.isLoading){s.next=3;break}return s.abrupt("return",!1);case 3:return this.isLoading=!0,this.toggleFollow("add"),s.next=7,regeneratorRuntime.awrap(o["a"].addFollowing(e));case 7:if(t=s.sent,r=t.data,"success"===r.status){s.next=11;break}throw"serveError";case 11:this.isLoading=!1,s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](0),this.isLoading=!1,c["a"].fire({icon:"error",title:"無法加入追蹤，請稍後再試"});case 18:case"end":return s.stop()}}),null,this,[[0,14]])},deleteFollowing:function(e){var t,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,!this.isLoading){s.next=3;break}return s.abrupt("return",!1);case 3:return this.isLoading=!0,this.toggleFollow("delete"),s.next=7,regeneratorRuntime.awrap(o["a"].deleteFollowing(e));case 7:if(t=s.sent,r=t.data,"success"===r.status){s.next=11;break}throw"serveError";case 11:this.isLoading=!1,s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](0),this.isLoading=!1,c["a"].fire({icon:"error",title:"無法取消追蹤，請稍後再試"});case 18:case"end":return s.stop()}}),null,this,[[0,14]])}}},l=u,d=r("2877"),h=Object(d["a"])(l,i,a,!1,null,null,null),f=h.exports,p=r("2375"),g={data:function(){return{users:[],isLoading:!0}},components:{UserTopCard:f,Spinner:p["a"]},created:function(){this.fetchUsers()},methods:{fetchUsers:function(){var e,t,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,regeneratorRuntime.awrap(o["a"].getTopUsers());case 3:if(e=s.sent,t=e.data,r=e.statusText,"OK"===r){s.next=8;break}throw"serverError";case 8:this.users=t.users,this.isLoading=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](0),this.isLoading=!1,c["a"].fire({icon:"error",title:"無法取得美食達人，請稍後再試"});case 16:case"end":return s.stop()}}),null,this,[[0,12]])}}},v=g,w=Object(d["a"])(v,s,n,!1,null,null,null);t["default"]=w.exports},"4e82":function(e,t,r){"use strict";var s=r("23e7"),n=r("1c0b"),i=r("7b0b"),a=r("d039"),o=r("b301"),c=[],u=c.sort,l=a((function(){c.sort(void 0)})),d=a((function(){c.sort(null)})),h=o("sort"),f=l||!d||h;s({target:"Array",proto:!0,forced:f},{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),n(e))}})},"55bc":function(e,t,r){}}]);
//# sourceMappingURL=chunk-cb4c010e.06c473b9.js.map